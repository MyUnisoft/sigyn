{
  "type": "object",
  "properties": {
    "loki": {
      "title": "Specify the Loki API Configuration",
      "description": "The Loki API configuration is used to query for log data.",
      "type": "object",
      "properties": {
        "apiUrl": {
          "title": "The Loki API url",
          "type": "string",
          "minLength": 1
        }
      },
      "required": [
        "apiUrl"
      ],
      "additionalProperties": false
    },
    "templates": {
      "type": "object",
      "patternProperties": {
        "^.*$": {
          "$ref": "https://raw.githubusercontent.com/MyUnisoft/sigyn/main/src/config/src/schemas/templates.json"
        }
      }
    },
    "rules": {
      "$ref": "https://raw.githubusercontent.com/MyUnisoft/sigyn/main/src/config/src/schemas/rules.json"
    },
    "notifiers": {
      "title": "Specify the notifiers configurations",
      "description": "Each notifier has its own configuration",
      "type": "object",
      "additionalProperties": true
    },
    "extends": {
      "title": "Specify the configuration to extend",
      "description": "The path to the configuration to extend that can have either rules & templates.",
      "type": "array",
      "items": {
        "type": "string"
      },
      "nullable": true
    },
    "missingLabelStrategy": {
      "title": "Defines the behavior when a label value is missing. It's important to note that the label must exists in any case, this setting only defines the behavior when the value is missing.",
      "description": "Default to 'ignore'. The rule will be skipped.",
      "type": "string",
      "enum": [
        "ignore",
        "error"
      ],
      "nullable": true
    },
    "defaultSeverity": {
      "title": "The default severity of the alerts",
      "description": "There are 4 levels of severity:\n- Sev1: Critical. Possible values: 'critical'.\n- Sev2: Error. Possible values: 'error', 'major'.\n- Sev3: Warning. Possible values: 'warning', 'minor'.\n- Sev4: Information. Possible values: 'information' | 'info' | 'low'. If not specified, the default value is 'error'.",
      "type": "string",
      "enum": [
        "critical",
        "error",
        "major",
        "warning",
        "minor",
        "information",
        "info",
        "low"
      ]
    }
  },
  "required": [
    "loki",
    "rules",
    "notifiers"
  ],
  "additionalProperties": false
}
